---
created: 2025-11-13
status:
links:
  - "[[Базы данных]]"
  - "[[SQL]]"
  - "[[Запросы SQL]]"
---
Логические операторы позволяют объединить несколько условий в одном SQL-запросе:

- AND — оба условия должны быть верны:
```sql
SELECT * FROM Trip
WHERE plane = 'Boeing' AND town_from = 'London';
```

* OR — достаточно, чтобы выполнилось хотя бы одно условие:
```sql
SELECT * FROM Trip
WHERE town_to = 'Paris' OR plane = 'Airbus';
```

* NOT — условие становится противоположным:
```sql
SELECT * FROM Trip WHERE NOT town_to = 'Moscow';
```

* XOR — это оператор, который помогает выбрать строки, где выполняется только одно из двух условий, но не оба сразу.

	Допустим, вы хотите найти рейсы, которые или вылетают из Moscow, или прилетают в Paris, но не оба варианта сразу. Давайте посмотрим на все возможные случаи:

|Вылетает  <br>из Moscow|Прилетает  <br>в Paris|Попадёт  <br>в результат|Объяснение|
|:-:|:-:|:-:|---|
|Да|Нет|✅ Да|Выполняется только первое условие|
|Нет|Да|✅ Да|Выполняется только второе условие|
|Да|Да|❌ Нет|Выполняются оба условия — XOR исключает такие случаи|
|Нет|Нет|❌ Нет|Не выполняется ни одно условие|
```sql
SELECT * FROM trip
WHERE town_from = 'Moscow' XOR town_to = 'Paris';
```

```sql
SELECT * FROM trip
WHERE (town_from = 'Moscow' AND town_to != 'Paris')
   OR (town_from != 'Moscow' AND town_to = 'Paris');
```

### Приоритет логических операторов
Когда вы пишете запрос с несколькими условиями, SQL должен понять, в каком порядке их проверять. Это похоже на математику: сначала умножение, потом сложение. Для логических операторов в SQL тоже есть свой порядок — это называется приоритетом.

- Сначала — NOT
- Затем — AND
- Потом — XOR
- В конце — OR

Пример:
```sql
SELECT *
FROM Trip
WHERE town_to = 'Paris'
	OR plane = 'Boeing'
	AND NOT town_from = 'Moscow';
```

Что здесь происходит:

- Сначала проверяется, что рейс **не** из Moscow (NOT town_from = 'Moscow').
    
- Затем смотрится, что самолёт — Boeing, и объединяется это с первым условием через AND, то есть, ищутся рейсы, которые **не** из Moscow и на Boeing (plane = 'Boeing' AND NOT town_from = 'Moscow')
    
- Потом к результату добавляются все рейсы, которые прилетают в Paris, даже если они **не** на Boeing и вылетают из Moscow (town_to = 'Paris' OR ...).
    

В итоге получится следующая выборка:

- Все рейсы, которые **не** из Moscow **и** на Boeing
- А ещё все рейсы, которые прилетают в Paris
























