---
created: 2025-09-28T14:57:00
status:
links:
  - "[[Базы данных]]"
  - "[[SQL]]"
  - "[[Запросы SQL]]"
---
```sql
INSERT INTO book (title, author, price, amount) 
SELECT title, author, price, amount 
FROM supply;

SELECT * FROM book;
```

```sql
INSERT INTO book (title, author, price, amount)
SELECT title, author, price, amount
FROM supply
WHERE author <> "Булгаков М.А." AND author <> "Достоевский Ф.М.";
```

```sql
INSERT INTO client (name_client, city_id, email)
SELECT 'Попов Илья', city_id, 'popov@test'
FROM city
WHERE name_city = 'Москва';

SELECT * FROM client;
```

```sql
INSERT INTO buy (buy_description, client_id)
SELECT 'Связаться со мной по вопросу доставки', client_id
FROM client
WHERE name_client = 'Попов Илья';

SELECT * FROM buy;
```

```sql
CREATE TABLE buy_pay(
    title VARCHAR(50),
    name_author VARCHAR(50),
    price DECIMAL(8, 2),
    amount INT,
    Стоимость DECIMAL(8, 2)
    );
    
INSERT INTO buy_pay (title, name_author, price, amount, Стоимость)
SELECT title, name_author, price, amount, Стоимость
FROM (
    SELECT title, name_author, price, buy_book.amount, price*buy_book.amount AS Стоимость
    FROM author
    INNER JOIN book ON author.author_id = book.author_id
    INNER JOIN buy_book ON book.book_id = buy_book.book_id
    WHERE buy_id = 5
    GROUP BY title, name_author, price, buy_book.amount
    ORDER BY title ASC) result;

SELECT * FROM buy_pay;
```


























