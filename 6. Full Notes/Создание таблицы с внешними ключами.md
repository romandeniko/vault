---
created: 2025-10-02T14:22:00
status:
links:
  - "[[Базы данных]]"
  - "[[Запросы SQL]]"
  - "[[Связи между таблицами]]"
  - "[[Процедура создания таблицы]]"
  - "[[Запрос на создание таблицы]]"
  - "[[Действия при удалении записи главной таблицы]]"
---
При создании зависимой таблицы (таблицы, которая содержит внешние ключи) необходимо учитывать, что :

- каждый внешний ключ должен иметь такой же тип данных, как связанное поле главной таблицы (в наших примерах это `**INT)**`;
- необходимо указать главную для нее таблицу и столбец, по которому осуществляется связь:

```sql
FOREIGN KEY (связанное_поле_зависимой_таблицы)  
REFERENCES главная_таблица (связанное_поле_главной_таблицы)
```

По умолчанию любой столбец, кроме ключевого, может содержать значение `**NULL**`. При создании таблицы это можно переопределить,  используя  ограничение `**NOT NULL**` для этого столбца:

```sql
CREATE TABLE таблица (
    столбец_1 INT NOT NULL, 
    столбец_2 VARCHAR(10) 
);
```

 В созданной таблице в `**столбец_1**` не может содержать пустое значение, а `**столбец_2**` - может.

Для внешних ключей рекомендуется устанавливать ограничение `**NOT NULL**`

 **Пример**

Создать таблицу **`book`** следующей структуры:

|   |   |   |
|---|---|---|
|**Поле**|**Тип, описание**|**Связи**|
|`book_id`|`INT PRIMARY KEY AUTO_INCREMENT`||
|`title`|`VARCHAR(50)`||
|`author_id`|`INT`|внешний ключ:  <br>главная таблица `**author**`,  <br>связанный столбец `**author.author_id**`,  <br>пустое значение не допускается|
|`price`|`DECIMAL(8, 2)`||
|`amount`|`INT`||

_Запрос:_

```sql
CREATE TABLE book (
    book_id INT PRIMARY KEY AUTO_INCREMENT, 
    title VARCHAR(50), 
    author_id INT NOT NULL, 
    price DECIMAL(8,2), 
    amount INT, 
    FOREIGN KEY (author_id)  REFERENCES author (author_id) 
);
```

```sql
CREATE TABLE book(
    book_id INT PRIMARY KEY AUTO_INCREMENT,
    title VARCHAR(50),
    author_id INT NOT NULL,
    genre_id INT,
    price DECIMAL(8,2), 
    amount INT,    
    FOREIGN KEY (author_id)  REFERENCES author (author_id),
    FOREIGN KEY (genre_id)  REFERENCES genre (genre_id)
);
```



























