---
created: 2025-09-29T18:55:00
status:
links:
  - "[[Базы данных]]"
  - "[[SQL]]"
  - "[[Запросы SQL]]"
---
В разделе `GROUP BY` можно указывать несколько столбцов, разделяя их запятыми. Тогда к одной группе будут относиться записи, у которых значения столбцов, входящих в группу, равны. Рассмотрим группировку по нескольким столбцам на примере следующего запроса:

```sql
SELECT name, number_plate, violation, count(*)
FROM fine
GROUP BY name, number_plate, violation;
```

1. Сначала записи таблицы  **`fine`** разделяются на группы. В каждую группу включаются строки, у которых равны значения в столбцах `**name**`, `**number_plate**` и `**violation**`  соответственно. Получается 6 групп. 

![](https://ucarecdn.com/ff298302-7c99-4ecc-8245-d26c32c1d524/)

2. Затем вычисляется функция `**count(*)**`, которая определяет количество записей в каждой группе. Получается, что к первым двум группам относятся по две записи, ко всем остальным - по одной.

![](https://ucarecdn.com/4bb9e222-d1ba-4806-8fd8-b7eb8c64f11b/)

**Важно!** В разделе `**GROUP BY**` нужно перечислять все НЕАГРЕГИРОВАННЫЕ столбцы (к которым не применяются групповые функции) из `**SELECT**`.

```sql
SELECT name, number_plate, violation
FROM fine
GROUP BY name, number_plate, violation
HAVING COUNT(violation) >= 2
ORDER BY name ASC, number_plate ASC, violation ASC;
```





























